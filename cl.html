<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<title>AI Commerce Demo ‚Äî Gemini</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Google+Sans+Text:wght@400;500&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#fff;--surface:#f8f9fa;--text:#1f1f1f;--text2:#444746;--text3:#70757a;--border:#e3e3e3;--accent:#1a73e8;--input-bg:#f0f4f9}
body{font-family:'Google Sans','Google Sans Text',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#e8eaed;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;-webkit-font-smoothing:antialiased}
.controls{display:flex;gap:10px;margin-bottom:16px;align-items:center;flex-wrap:wrap;justify-content:center}
.controls button{padding:8px 18px;border-radius:20px;border:1px solid #dadce0;background:#fff;color:#444;cursor:pointer;font-size:13px;font-family:inherit;font-weight:500;transition:all .15s}
.controls button:hover:not(:disabled){background:#f1f3f4}
.controls button.primary{background:#1a73e8;color:#fff;border-color:#1a73e8}
.controls button:disabled{opacity:.35;cursor:default}
.controls .counter{font-size:12px;color:#70757a;min-width:50px;text-align:center}
.phone{width:393px;height:852px;border-radius:47px;background:var(--bg);border:3px solid #1f1f1f;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 25px 80px rgba(0,0,0,.25)}
.status-bar{display:flex;justify-content:space-between;align-items:center;padding:12px 28px 6px;font-size:16px;font-weight:600;color:var(--text);flex-shrink:0}
.status-icons{display:flex;gap:5px;align-items:center}
.g-header{display:flex;align-items:center;justify-content:space-between;padding:6px 16px 10px;flex-shrink:0}
.g-header-left{display:flex;align-items:center;gap:10px}
.avatar-circle{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#f4a261,#e76f51);display:flex;align-items:center;justify-content:center;font-size:14px;color:white;font-weight:600}
.nav-tabs{display:flex;gap:0;padding:0 16px;border-bottom:1px solid var(--border);flex-shrink:0}
.nav-tabs .tab{padding:10px 12px;font-size:14px;color:var(--text3);font-weight:500;white-space:nowrap;position:relative}
.nav-tabs .tab.active{color:#1a73e8}
.nav-tabs .tab.active::after{content:'';position:absolute;bottom:-1px;left:12px;right:12px;height:3px;background:#1a73e8;border-radius:3px 3px 0 0}
.scroll-area{flex:1;overflow-y:auto;overflow-x:hidden}
.scroll-area::-webkit-scrollbar{width:0}
.welcome{display:flex;flex-direction:column;align-items:center;padding:0 24px;min-height:100%}
.welcome-spacer{flex:1;min-height:80px}
.welcome h1{font-size:22px;font-weight:400;color:var(--text);text-align:center;line-height:1.35}
.welcome-bottom{flex:1;display:flex;flex-direction:column;justify-content:flex-end;width:100%;padding-bottom:8px}
.suggestion-item{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-top:1px solid var(--border)}
.suggestion-item:first-child{border-top:none}
.suggestion-item .stxt{font-size:14px;color:var(--text);line-height:1.45;flex:1;padding-right:12px}
.input-bar{flex-shrink:0;background:var(--bg);padding:6px 12px 0}
.input-compose-box{background:var(--input-bg);border-radius:24px;padding:16px 18px;position:relative;min-height:52px;cursor:text}
.input-compose-text{font-size:16px;color:var(--text);line-height:1.5;font-family:inherit;padding-right:28px;min-height:24px}
.input-compose-text .typing-cursor{display:inline-block;width:2px;height:1.1em;background:var(--accent);animation:blink .6s infinite;vertical-align:text-bottom;margin-left:1px}
.input-dismiss{position:absolute;top:14px;right:14px;width:22px;height:22px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:none;background:transparent}
.input-bottom-row{display:flex;align-items:center;justify-content:space-between;padding:10px 4px 2px}
.input-add-btn{width:34px;height:34px;border-radius:50%;border:1.5px solid var(--border);background:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer}
.input-right-icons{display:flex;gap:16px;align-items:center}
.input-right-icons svg{display:block}
.send-btn{width:38px;height:38px;border-radius:50%;background:#1a73e8;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s}
.send-btn:hover{background:#1557b0}
.send-btn.disabled{background:#d3e3fd;cursor:default;pointer-events:none}
.send-btn svg{display:block}
.home-ind{display:flex;justify-content:center;padding:8px 0 10px;flex-shrink:0}
.home-ind div{width:134px;height:5px;border-radius:3px;background:#1f1f1f}
.messages{padding:4px 0 12px}
.user-row{display:flex;justify-content:flex-end;padding:8px 16px 4px}
.user-msg{background:#e8edf3;border-radius:20px;padding:12px 16px;max-width:82%;font-size:16px;color:var(--text);line-height:1.5;animation:slideUp .25s ease-out}
.ai-block{padding:12px 20px 4px}
.ai-block .heading{font-size:18px;font-weight:700;color:var(--text);margin:20px 0 8px}
.ai-block .subheading{font-size:16px;font-weight:700;color:var(--accent);margin:18px 0 8px}
.ai-block .para{font-size:15px;color:var(--text2);line-height:1.7;margin:8px 0}
.ai-block .bullet{font-size:15px;color:var(--text2);line-height:1.7;margin:6px 0 6px 4px;padding-left:12px;text-indent:-16px}
.ai-block .numbered{font-size:15px;color:var(--text2);line-height:1.7;margin:6px 0 6px 4px;padding-left:16px}
.ai-block b,.ai-block strong{color:var(--text);font-weight:600}
.pcard{background:var(--bg);border:1px solid var(--border);border-radius:12px;padding:12px;margin:10px 0;display:flex;gap:12px;align-items:center}
.pcard .pthumb{width:72px;height:72px;border-radius:8px;background:#f1f3f4;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.pcard .pinfo{flex:1;min-width:0}
.pcard .pname{font-size:14px;font-weight:500;color:var(--accent);line-height:1.35;margin-bottom:2px}
.pcard .pprice{font-size:14px;color:var(--text);font-weight:500}
.pcard .pmeta{font-size:12px;color:var(--text3)}
.ctable{margin:14px 0;border:1px solid var(--border);border-radius:8px;overflow:hidden}
.ctable table{width:100%;border-collapse:collapse;font-size:12px;table-layout:fixed}
.ctable th{padding:10px 8px;background:var(--surface);color:var(--text);text-align:left;border-bottom:1px solid var(--border);font-weight:600;font-size:11px;word-wrap:break-word}
.ctable td{padding:10px 8px;color:var(--text2);border-bottom:1px solid #f0f0f0;vertical-align:top;line-height:1.4;font-size:12px;word-wrap:break-word;overflow-wrap:break-word}
.ctable tr:last-child td{border-bottom:none}
.ctable td:first-child{color:var(--text3);font-weight:500}
.ctable td b,.ctable td strong{color:var(--text);font-weight:600}
.thinking-row{padding:16px 20px;display:flex;align-items:center;gap:6px;animation:fadeIn .3s}
.thinking-dot{width:6px;height:6px;border-radius:50%;background:#1a73e8;animation:dotPulse 1.2s infinite}
.thinking-dot:nth-child(2){animation-delay:.2s}
.thinking-dot:nth-child(3){animation-delay:.4s}
.thinking-label{font-size:16px;color:var(--text2);font-style:italic;margin-left:4px}
.cursor{display:inline-block;width:2px;height:1em;background:#1a73e8;margin-left:1px;animation:blink .7s infinite;vertical-align:text-bottom}
/* Empty input placeholder with blinking cursor */
.input-placeholder-line{font-size:16px;color:var(--text3);display:flex;align-items:center;min-height:24px}
.input-placeholder-line .typing-cursor{display:inline-block;width:2px;height:1.1em;background:var(--text3);animation:blink .6s infinite;vertical-align:text-bottom}
@keyframes dotPulse{0%,80%,100%{opacity:.3;transform:scale(.8)}40%{opacity:1;transform:scale(1.1)}}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@media(max-width:440px){body{padding:0;background:#fff}.phone{width:100vw;height:100vh;height:100dvh;border-radius:0;border:none;box-shadow:none}.controls{display:none}}
</style>
</head>
<body>
<div class="controls" id="controls">
  <button onclick="resetDemo()">‚ü≤ Reset</button>
  <button id="autoBtn" onclick="toggleAutoPlay()">‚ñ∂ Auto Play</button>
  <span class="counter" id="counter"></span>
</div>
<div class="phone">
  <div class="status-bar"><span>9:41</span><div class="status-icons">
    <svg width="17" height="12" viewBox="0 0 17 12" fill="#1f1f1f"><rect x="0" y="8" width="3" height="4" rx=".5"/><rect x="4.5" y="5" width="3" height="7" rx=".5"/><rect x="9" y="2" width="3" height="10" rx=".5"/><rect x="13.5" y="0" width="3" height="12" rx=".5"/></svg>
    <svg width="16" height="12" viewBox="0 0 16 12" fill="#1f1f1f"><path d="M8 3.6C9.8 3.6 11.4 4.3 12.6 5.4L14 4C12.4 2.5 10.3 1.5 8 1.5S3.6 2.5 2 4L3.4 5.4C4.6 4.3 6.2 3.6 8 3.6ZM8 7.2C9 7.2 9.9 7.6 10.6 8.2L12 6.8C10.9 5.8 9.5 5.1 8 5.1S5.1 5.8 4 6.8L5.4 8.2C6.1 7.6 7 7.2 8 7.2Z"/><circle cx="8" cy="10.5" r="1.5"/></svg>
    <svg width="27" height="13" viewBox="0 0 27 13" fill="none"><rect x=".5" y="1" width="23" height="11" rx="2.5" stroke="#1f1f1f" stroke-width="1"/><path d="M25 4.5v4a1.5 1.5 0 000-4z" fill="#1f1f1f"/><rect x="2" y="2.5" width="19" height="8" rx="1.5" fill="#1f1f1f"/></svg>
  </div></div>
  <div id="header"></div>
  <div id="navTabs"></div>
  <div class="scroll-area" id="scrollArea"></div>
  <div id="inputBar"></div>
  <div class="home-ind"><div></div></div>
</div>
<script>
// ================================================================
// CONVERSATION DATA
// ================================================================
const CONV=[
  {role:"user",msg:"I'm scaling up my architecture practice‚Äîworking solo but taking on bigger projects. I need a laptop that handles 3D rendering and BIM software, lasts through full-day client meetings without needing a charger, and won't break the bank. What should I get?"},
  {role:"ai",blocks:[
    {t:"p",text:"To handle architectural scaling, you need a machine that balances <b>single-core clock speed</b> for BIM modeling (Revit/ArchiCAD) with <b>multi-core/GPU power</b> for 3D rendering (V-Ray/Lumion)."},
    {t:"h",text:"Professional Workstation Options"},
    {t:"p",text:"These models are designed specifically for AEC (Architecture, Engineering, and Construction) workflows, featuring <b>ISV certifications</b> that guarantee software stability."},
    {t:"p",text:"The <b>Dell Pro 16 Plus</b> is a versatile choice for a growing practice. It offers a <b>16-inch display</b> powered by an <b>Intel Core Ultra processor</b> with a built-in <b>AI Boost NPU</b>. It is rated for <b>up to 12.6 hours of runtime</b>."},
    {t:"card",name:"Dell Pro 16 Plus",price:"$1,449.00",brand:"Dell",rating:"4.1",reviews:"97k+"},
    {t:"p",text:"For those who prioritize mobility without sacrificing professional-grade graphics, the <b>HP ZBook 8 G1i</b> is a newly redesigned <b>16-inch mobile workstation</b>. It features <b>pro-level graphics</b> tailored for advanced AI and 3D workflows."},
    {t:"card",name:"HP ZBook 8 G1i 16\" Mobile Workstation Intel Core Ultra 7",price:"$1,699.00",brand:"HP",rating:"4.9",reviews:"41"},
    {t:"h",text:"Highly Portable Alternatives"},
    {t:"p",text:"The <b>Asus ProArt PX13</b> is a <b>13.3-inch convertible</b> with a <b>3K OLED touchscreen</b> and <b>Asus DialPad</b>. It packs an <b>RTX 4050 GPU</b> and <b>32GB of RAM</b>."},
    {t:"h",text:"Summary Recommendation"},
    {t:"li",text:"<b>For best BIM performance:</b> Choose the <b>HP ZBook 8 G1i</b>; its 32GB RAM and Intel Ultra processor provide stability for large Revit files."},
    {t:"li",text:"<b>For pure portability:</b> The <b>Asus Zenbook S 16</b> is the lightest 16-inch option."},
    {t:"table",headers:["","HP ZBook 8 G1i ‚≠ê","Dell Precision 16","Zenbook S 16"],rows:[["Best For","Mobile workstation power","Raw performance","Max portability"],["BIM","üéØ ISV-certified","Excellent 32GB","‚ö†Ô∏è Inadequate"],["Battery","Up to 15 hrs","Limited under load","Excellent"],["Price","$1,500‚Äì4,000+","$2,000‚Äì3,500","$1,200‚Äì1,800"]]}
  ]},
  {role:"user",msg:"I really like the HP option as I don't want to compromise on the performance element, also I have some 4k HD True colour monitors from HP, and I'm impressed."},
  {role:"ai",blocks:[
    {t:"p",text:"If you are leaning toward <b>HP</b>, you're looking at their <b>ZBook</b> series‚Äîthe gold standard for architectural workstations. To get the performance you need for BIM (Revit/ArchiCAD) and 3D rendering (V-Ray/Lumion) without needing a charger by lunchtime, you should look specifically at the <b>G11</b> (2025/2026) models."},
    {t:"p",text:"The G11 series uses <b>Intel Core Ultra</b> or <b>AMD Ryzen Pro</b> processors, which include a dedicated AI engine (NPU) that helps manage power more efficiently than previous generations."},
    {t:"h",text:"HP ZBook Comparison for Architects"},
    {t:"table",headers:["","HP ZBook Power G11","HP ZBook Studio G11"],rows:[["Best For","Balanced Performance & BIM","High-End Rendering & Visuals"],["GPU Options","Up to RTX 3000 Ada (8GB)","Up to RTX 4070 or 3000 Ada"],["Battery Life","Up to 15+ hours (AMD)","Approx. 5‚Äì7 hours"],["Chassis","Standard Professional Shell","Ultra-Slim Premium Aluminum"],["Weight","Approx. 4.5 lbs","Approx. 3.8 lbs"]]},
    {t:"sh",text:"Which one should you choose?"},
    {t:"p",text:"The <b>HP ZBook Power G11</b> is the \"workhorse\" choice for a solo practice. It offers <b>dual SODIMM slots</b> (allowing you to easily upgrade to 64GB RAM later) and <b>dual SSD slots</b>. The <b>AMD version (G11 A)</b> has been tested to last nearly <b>16 hours</b> on a single charge."},
    {t:"p",text:"The HP ZBook Studio G11 is for architects who do heavy <b>real-time rendering</b> (Lumion/Enscape). It features a superior <b>DreamColor display</b> with 100% DCI-P3 color accuracy. However, its slim design leads to more heat and <b>shorter battery life</b>."},
    {t:"sh",text:"Recommendation"},
    {t:"p",text:"For a solo architect scaling up, the <b>ZBook Power G11</b> is the smarter investment. It handles large BIM models easily, gives you the <b>all-day battery</b> you requested, and the saved cost can be put toward extra RAM or a high-quality external monitor."},
    {t:"p",text:"Would you like me to check for the specific <b>NVIDIA RTX GPU</b> requirements for the rendering engine you use most?"}
  ]},
  {role:"user",msg:"No, thanks I have already seen that it does. For approximately the same price and I have seen that the HP Zbook 8G1 16\" for $1499 on sale, can you tell me how this stack against a mac or the best fit from Dell?"},
  {role:"ai",blocks:[
    {t:"p",text:"When scaling your architecture practice, choosing between the <b>HP ZBook 8 G1i</b>, a <b>MacBook Pro</b>, and a <b>Dell Precision</b> (or Dell Pro Max) comes down to how your specific software handles different operating systems and hardware."},
    {t:"p",text:"At the <b>$1,500 sale price</b>, the HP ZBook 8 G1i is a professional workstation \"steal,\" but here is how it stacks up against the competition for 2026."},
    {t:"h",text:"Architecture Performance Comparison"},
    {t:"table",headers:["","HP ZBook 8 G1i (16-inch)","MacBook Pro 16 (M4 Pro)","Dell Pro Max 16 (Plus)"],rows:[["OS","Windows 11 Pro","macOS","Windows 11 Pro"],["BIM","Native (Best for Revit)","Emulated (requires Parallels)","Native"],["Battery Life","Up to 15 hours","Up to 22+ hours","Up to 12‚Äì14 hours"],["Best For","Heavy BIM & Client Meetings","Creative visuals & Adobe","All-around office & site"],["Best Price","$1,499","$1,899","$1,699"]]},
    {t:"sh",text:"Why the HP ZBook 8 G1i is hard to beat at $1,499"},
    {t:"p",text:"The <b>HP ZBook 8 G1i</b> is specifically designed for your industry. Its <b>NVIDIA RTX 500 Ada GPU</b> is <b>ISV-certified</b>, meaning it has special drivers to prevent Revit and AutoCAD from crashing during complex 3D rotations."},
    {t:"li",text:"<b>Longevity:</b> It features <b>two SODIMM slots</b>, meaning you can start with 16GB or 32GB and easily pop in 64GB yourself later as your projects grow."},
    {t:"li",text:"<b>The \"Meeting\" Factor:</b> At 16 inches, it offers the screen real estate needed to show blueprints to clients without them squinting, yet it remains relatively light (under 4 lbs)."},
    {t:"card",name:"HP ZBook 8 G1i 16\" Mobile Workstation Intel Core Ultra 7",price:"$1,499.00",brand:"HP",rating:"4.9",reviews:"41"},
    {t:"h",text:"The Mac and Dell Alternatives"},
    {t:"li",text:"<b>MacBook Pro 16 (M4 Pro):</b> This is the battery king. However, <b>Revit does not run natively on Mac</b>. You would need <b>Parallels</b>, which can cut performance by 20‚Äì30%. For a solo architect, this extra tech troubleshooting is often a headache you don't need."},
    {t:"li",text:"<b>Dell Pro Max 16 Plus:</b> The direct competitor. While beautifully designed, you often pay a \"design tax.\" To get the same 32GB RAM and 1TB SSD, the Dell typically lands closer to <b>$1,700‚Äì$1,900</b> unless you find a rare clearance deal."},
    {t:"h",text:"Final Verdict"},
    {t:"p",text:"If you can get the <b>HP ZBook 8 G1i</b> for <b>$1,499</b>, take it. It is the most \"future-proof\" option because of its upgradeable RAM and native support for architectural software. You won't find a MacBook or Dell Precision with comparable professional specs at that price point."},
    {t:"p",text:"Would you like me to find a specific <b>ZBook G1i configuration</b> currently in stock at that price to see if it has the 32GB RAM you'll need?"}
  ]},
  {role:"user",msg:"Yes please, please show me the options that they have."},
  {role:"ai",blocks:[
    {t:"p",text:"The <b>HP ZBook 8 G1i</b> is the 2026 evolution of the Power series. It is built for <b>BIM software</b> that requires \"Certified Drivers\"‚Äîdrivers specifically tested to ensure your 3D models don't glitch or crash during a client presentation."},
    {t:"li",text:"<b>Performance:</b> It uses the Intel Core Ultra 7 255H, which includes a dedicated NPU (AI engine). This handles background tasks more efficiently, leaving the main processor free for heavy rendering."},
    {t:"li",text:"<b>Expansion:</b> Unlike the MacBook, if you find that 32GB of RAM isn't enough for a massive project next year, you can upgrade it yourself for about $150 rather than buying a whole new laptop."},
    {t:"li",text:"<b>Battery:</b> It features a 77Wh battery that supports Fast Charge, reaching 50% in just 30 minutes‚Äîperfect for a quick top-off between site visits."},
    {t:"li",text:"<b>VS Dell Precision:</b> The Dell Precision 3591 is a fantastic machine but often uses a slightly thicker, heavier chassis. At the $1,500 mark, you are more likely to find the ZBook with a 1TB SSD, whereas Dell often starts at 512GB."},
    {t:"li",text:"<b>VS MacBook Pro:</b> While the MacBook has the best battery life in the world, Revit does not run natively on Mac. You would have to use Parallels, which can be unstable for high-stakes 3D rendering and adds an extra monthly subscription cost."},
    {t:"h",text:"Final Recommendation"},
    {t:"p",text:"For a solo architecture practice, the <b>HP ZBook 8 G1i</b> is the most practical choice. It offers the professional <b>NVIDIA RTX graphics</b> needed for 3D work and the Windows-native environment required for industry-standard BIM software, all while staying within your budget."},
    {t:"p",text:"Would you like me to look for a specific configuration of this ZBook that includes <b>32GB of RAM</b> to ensure it's ready for your larger projects immediately?"}
  ]},
  {role:"user",msg:"Can you list all the ports that the ZBook has? As I'm worried that it might not have an HDMI port and my monitors and all client have HDMI connections."},
  {role:"ai",blocks:[
    {t:"p",text:"It's a valid concern‚Äîmany modern \"thin\" laptops have ditched the HDMI port, forcing you to carry dongles. However, because the <b>ZBook</b> is a professional workstation, it is designed with connectivity in mind."},
    {t:"p",text:"The HP ZBook 8 G1i <b><i>does</i> include a dedicated HDMI 2.1 port</b>, so you can plug directly into client monitors or projectors without any adapters."},
    {t:"h",text:"Port Layout and Connectivity"},
    {t:"p",text:"The ZBook features a \"full-stack\" port selection, meaning you can connect your mouse, external drive, and monitor simultaneously."},
    {t:"li",text:"<b>1 HDMI 2.1 Port:</b> Supports high-resolution output (up to 4K or 8K) for modern displays and TVs."},
    {t:"li",text:"<b>2 Thunderbolt 4 / USB4 Type-C Ports:</b> These are \"do-it-all\" ports supporting <b>Power Delivery</b>, <b>DisplayPort 1.4</b>, and 40Gbps data transfer."},
    {t:"li",text:"<b>2 USB Type-A Ports (5Gbps):</b> One is a \"Charging\" port, allowing you to charge your phone even when the laptop is asleep."},
    {t:"li",text:"<b>1 Headphone/Microphone Combo Jack:</b> Standard 3.5mm input for headsets."},
    {t:"li",text:"<b>1 Nano Security Lock Slot:</b> Useful for tethering your laptop to a desk at a site office for security."},
    {t:"h",text:"External Monitor Strategy"},
    {t:"p",text:"Since you mentioned having multiple monitors, here is how you can set them up:"},
    {t:"num",text:"<b>Monitor 1:</b> Plug directly into the <b>HDMI 2.1 port</b>."},
    {t:"num2",text:"<b>Monitor 2:</b> Use one of the <b>Thunderbolt 4</b> ports with a simple USB-C to HDMI cable or a docking station."},
    {t:"p",text:"The HDMI 2.1 standard supports higher refresh rates and better color depth compared to the older HDMI 1.4 ports found on budget laptops."},
    {t:"p",text:"Would you like me to find a <b>Thunderbolt docking station</b> that would allow you to connect all your office monitors and peripherals with just a single cable?"}
  ]},
  {role:"user",msg:"Before we go down the accessory route, my friend tells me to check out the HP elitebook range, as they have one and cant recomend highly enough - would it work for me?"},
  {role:"ai",blocks:[
    {t:"p",text:"While the <b>HP EliteBook</b> is a fantastic premium business laptop, it is generally <b>not recommended</b> for a solo architecture practice scaling into heavy 3D rendering and BIM."},
    {t:"p",text:"The core difference is that EliteBooks are \"productivity\" machines built for executives (Office, Zoom, multi-tasking), whereas ZBooks are \"workstations\" built for creators (Revit, V-Ray, Lumion)."},
    {t:"h",text:"HP EliteBook vs. HP ZBook for Architects"},
    {t:"table",headers:["","HP EliteBook 860 G11","HP ZBook 8 G1i (16\")"],rows:[["GPU","Integrated Intel Graphics","NVIDIA RTX 500 Ada (Dedicated)"],["BIM Stability","Risk of crashes in complex models","High (Certified for Revit/CAD)"],["Thermal System","Thin (Quiet but prone to heat)","Workstation Cooling (Sustained load)"],["ISV Certification","None","Yes (Autodesk, Adobe, etc.)"],["Best For","Project Management & Admin","3D Modeling & Rendering"]]}
  ]},
  {role:"user",msg:"Great, thanks for the help, let's go and checkout that accessory now."},
  {role:"ai",blocks:[
    {t:"p",text:"Good choice,"},
    {t:"h",text:"Recommended Configuration & Add-on"},
    {t:"p",text:"The <b>HP ZBook 8 G1i</b> is the best fit for your \"scaling up\" phase because it combines workstation-grade power with a battery that can actually last through a day of client meetings."},
    {t:"p",text:"To simplify your office setup, the HP Thunderbolt G4 Dock is the gold-standard pairing. It allows you to connect two 4K monitors, your keyboard, and a mouse via <b>one single cable</b> that also charges the laptop. It adds another <b>HDMI port</b> and <b>two DisplayPorts</b>, effectively turning your laptop into a full desktop workstation the moment you sit down."},
    {t:"sh",text:"Summary Recommendation"},
    {t:"li",text:"<b>Buy the ZBook 8 G1i:</b> It has the HDMI port you need, the 32GB RAM your software demands, and is currently at a rare price point for its specs."},
    {t:"li",text:"<b>Consider the G4 Dock:</b> It will save you from plugging in five different cables every time you return from a client meeting."}
  ]},
  {role:"user",msg:"Can you tell me if there any offers on the g4 Dock?"},
  {role:"ai",blocks:[
    {t:"p",text:"Yes, there are several active offers for the <b>HP Thunderbolt G4 Dock</b> right now. Since you are scaling your practice, these deals can help you set up a professional dual-monitor workstation while staying under budget."},
    {t:"sh",text:"Current Offers & Deals (February 2026)"},
    {t:"p",text:"You can find the G4 Dock at a significant discount depending on whether you buy it new, open-box, or as part of a bundle."},
    {t:"li",text:"<b>HP Store \"Docks & Hubs\" Sale:</b> The official HP Store is running a promotion with up to <b>42% off</b> select docks and hubs."},
    {t:"li",text:"<b>Open-Box & Refurbished (Best Value):</b> On sites like eBay, you can find \"Open Box\" units of the <b>120W G4 Dock</b> for as low as <b>$69.99 to $99.99</b>."},
    {t:"li",text:"<b>Business & Student Discounts:</b> You can often unlock an additional <b>25% to 30% off</b> accessories when purchased alongside a PC like your ZBook."},
    {t:"sh",text:"Recommended G4 Dock Options"},
    {t:"p",text:"There are two main versions. For your ZBook 8 G1i, the 120W is typically sufficient, but the 280W version is better if you plan on adding multiple high-power peripherals later."},
    {t:"table",headers:["Feature","HP TB Dock 120W G4","HP TB Dock 280W G4"],rows:[["Best For","Standard 4K Dual Monitor","High-Power Workstations & 4+ Displays"],["Power Delivery","100W to Laptop","Up to 230W (w/ Combo Cable)"],["Ports","1 HDMI 2.0, 2 DP 1.4, 1 TB4","1 HDMI 2.0, 2 DP 1.4, 1 TB4"],["Current Deal","~ $160‚Äì$189 (New)","~ $220‚Äì$280 (New)"]]},
    {t:"sh",text:"Pro Tip for Your Setup"},
    {t:"p",text:"If you buy the dock, check the HP Store Rewards program. You can often get 3% back in rewards points, which you can use later for a professional mouse or a laptop bag for site visits."}
  ]},
  {role:"user",msg:"Which would be the better dock for me?"},
  {role:"ai",blocks:[
    {t:"p",text:"For your architecture practice, the <b>HP Thunderbolt Dock 280W G4</b> is the superior choice over the 120W version."},
    {t:"p",text:"While both docks offer identical port selections, the <b>280W model</b> is specifically designed for high-performance workstations like your ZBook. 3D rendering and BIM software are extremely power-intensive; the 280W dock ensures your laptop stays at <b>peak performance (PL1 power levels)</b> without the battery draining or the processor throttling during heavy renders."},
    {t:"h",text:"HP Thunderbolt G4 Dock Comparison"},
    {t:"table",headers:["","TB Dock 120W G4","TB Dock 280W G4"],rows:[["Power Delivery","Up to 100W","Up to 230W"],["Best For","Standard laptops","Workstations (BIM/CAD/3D)"],["Display Support","Up to four 4K monitors","Up to four 4K monitors"],["Cable Type","Single Thunderbolt 4","Combo Cable (TB4 + Power Barrel)"]]},
    {t:"sh",text:"Why the 280W version is \"The One\" for you"},
    {t:"p",text:"The HP Thunderbolt Dock 280W G4 features a <b>combo cable</b> that delivers more than double the power of the 120W version. Without this extra overhead, your ZBook might actually lose battery charge while plugged into the 120W dock during a heavy V-Ray or Lumion render."},
    {t:"li",text:"<b>No Performance Lag:</b> It provides the full wattage required to keep your NVIDIA RTX GPU running at its maximum frequency."},
    {t:"li",text:"<b>Security:</b> Like your ZBook, it features HP Sure Start, protecting your office network from firmware-level attacks."},
    {t:"li",text:"<b>Connectivity:</b> It includes the HDMI 2.0 port and two DisplayPorts you need to run your multiple-monitor office setup."}
  ]}
];

// ================================================================
// STATE
// ================================================================
let nextUserIdx=0,autoP=false,busy=false,timer=null,dotTimer=null,typingTimer=null;
let inputState='blank'; // blank | typing | ready | disabled
const hist=[];
const $=id=>document.getElementById(id);
const sleep=ms=>new Promise(r=>setTimeout(r,ms));
function sBot(){const e=$('scrollArea');e.scrollTop=e.scrollHeight}
function strip(h){const d=document.createElement('div');d.innerHTML=h;return d.textContent||''}
function updC(){
  const total=CONV.filter(c=>c.role==='user').length;
  const done=Math.min(nextUserIdx/2+1,total);
  $('counter').textContent=`${Math.ceil(done)}/${total}`;
}

// ================================================================
// ICONS
// ================================================================
const svgPlus='<svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M9 3.5v11M3.5 9h11" stroke="#444746" stroke-width="1.5" stroke-linecap="round"/></svg>';
const svgMic='<svg width="22" height="22" viewBox="0 0 24 24" fill="#444746"><path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5-3c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-2.08c3.39-.49 6-3.39 6-6.92h-2z"/></svg>';
const svgCam='<svg width="22" height="22" viewBox="0 0 24 24" fill="#444746"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><circle cx="12" cy="12" r="3.5"/></svg>';
const svgX='<svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M2 2l10 10M12 2L2 12" stroke="#70757a" stroke-width="1.8" stroke-linecap="round"/></svg>';
const svgSend='<svg width="20" height="20" viewBox="0 0 24 24" fill="#fff"><path d="M3.4 20.4l17.45-7.48a1 1 0 000-1.84L3.4 3.6a1 1 0 00-1.4.92V9.5l13 2.5-13 2.5v4.98a1 1 0 001.4.92z"/></svg>';
const svgSearch='<svg viewBox="0 0 24 24" fill="#70757a" width="20" height="20"><path d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>';

// ================================================================
// HEADER / TABS
// ================================================================
function rHeader(back){
  $('header').innerHTML=`<div class="g-header"><div class="g-header-left">
    ${back?'<div style="width:24px;height:24px;display:flex;align-items:center"><svg width="10" height="18" viewBox="0 0 10 18" fill="none"><path d="M9 1L1 9l8 8" stroke="#444746" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></div>':''}
    <div><svg viewBox="0 0 24 24" width="30" height="30"><circle cx="12" cy="12" r="11" fill="#fff" stroke="#e0e0e0" stroke-width="1"/><path d="M6.5 12A5.5 5.5 0 0112 6.5v2A3.5 3.5 0 008.5 12h-2zm5.5 5.5A5.5 5.5 0 016.5 12h2a3.5 3.5 0 003.5 3.5v2zm0-11V4a8 8 0 018 8h-2.5A5.5 5.5 0 0012 6.5zm8 5.5a8 8 0 01-8 8v-2.5a5.5 5.5 0 005.5-5.5H20z" fill="url(#gg)"/><defs><linearGradient id="gg" x1="4" y1="4" x2="20" y2="20"><stop stop-color="#4285f4"/><stop offset=".33" stop-color="#9b72cb"/><stop offset=".66" stop-color="#d96570"/><stop offset="1" stop-color="#d96570"/></linearGradient></defs></svg></div>
  </div><div class="avatar-circle">M</div></div>`;
}
function rTabs(s){$('navTabs').innerHTML=s?'<div class="nav-tabs"><div class="tab active">AI Mode</div><div class="tab">Everything</div><div class="tab">Images</div><div class="tab">Videos</div><div class="tab">News</div></div>':'';}

// ================================================================
// INPUT BAR STATES
// ================================================================
function inputBlank(){
  inputState='blank';
  $('inputBar').innerHTML=`<div class="input-bar">
    <div class="input-compose-box" onclick="startTyping()" style="cursor:pointer">
      <div class="input-compose-text" style="color:var(--text3)">Ask anything</div>
    </div>
    <div class="input-bottom-row">
      <button class="input-add-btn">${svgPlus}</button>
      <div class="input-right-icons">${svgMic}${svgCam}<button class="send-btn disabled">${svgSend}</button></div>
    </div>
  </div>`;
}

function inputDisabled(){
  inputState='disabled';
  $('inputBar').innerHTML=`<div class="input-bar">
    <div class="input-compose-box" style="opacity:.6">
      <div class="input-compose-text" style="color:var(--text3)">Ask anything</div>
    </div>
    <div class="input-bottom-row">
      <button class="input-add-btn">${svgPlus}</button>
      <div class="input-right-icons">${svgMic}${svgCam}<button class="send-btn disabled">${svgSend}</button></div>
    </div>
  </div>`;
}

function inputReady(txt){
  inputState='ready';
  $('inputBar').innerHTML=`<div class="input-bar">
    <div class="input-compose-box">
      <div class="input-compose-text">${txt}</div>
      <button class="input-dismiss">${svgX}</button>
    </div>
    <div class="input-bottom-row">
      <button class="input-add-btn">${svgPlus}</button>
      <div class="input-right-icons">${svgMic}${svgCam}<button class="send-btn" onclick="sendMsg()">${svgSend}</button></div>
    </div>
  </div>`;
}

// Simulate typing into the input box
async function startTyping(){
  if(busy || inputState==='typing' || inputState==='ready' || inputState==='disabled') return;
  // Find the next user message
  if(nextUserIdx>=CONV.length) return;
  const u=CONV[nextUserIdx];
  if(u.role!=='user') return;

  inputState='typing';
  const fullText=u.msg;
  const plainText=strip(fullText);

  // Build the input with typing cursor
  $('inputBar').innerHTML=`<div class="input-bar">
    <div class="input-compose-box">
      <div class="input-compose-text" id="typingTarget"><span class="typing-cursor"></span></div>
      <button class="input-dismiss">${svgX}</button>
    </div>
    <div class="input-bottom-row">
      <button class="input-add-btn">${svgPlus}</button>
      <div class="input-right-icons">${svgMic}${svgCam}<button class="send-btn disabled">${svgSend}</button></div>
    </div>
  </div>`;

  const target=document.getElementById('typingTarget');
  let ci=0;
  const speed=18; // ms per char ‚Äî feels like human typing

  await new Promise(res=>{
    typingTimer=setInterval(()=>{
      ci=Math.min(ci+1+Math.floor(Math.random()*2),plainText.length); // slight randomness
      target.innerHTML=plainText.slice(0,ci)+'<span class="typing-cursor"></span>';
      if(ci>=plainText.length){
        clearInterval(typingTimer);typingTimer=null;
        res();
      }
    },speed);
  });

  // Typing done ‚Äî show full text with send button active
  inputReady(fullText);
}

// ================================================================
// BUILD BLOCKS
// ================================================================
function bCard(b){return`<div class="pcard"><div class="pthumb"><svg width="36" height="36" viewBox="0 0 24 24" fill="#9aa0a6"><path d="M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"/></svg></div><div class="pinfo"><div class="pname">${b.name}</div><div class="pprice">${b.price}</div><div class="pmeta">‚òÖ ${b.brand} ${b.rating} (${b.reviews})</div></div></div>`}
function bTable(b){let h='<div class="ctable"><table><thead><tr>';b.headers.forEach(th=>h+=`<th>${th}</th>`);h+='</tr></thead><tbody>';b.rows.forEach(r=>{h+='<tr>';r.forEach(c=>h+=`<td>${c}</td>`);h+='</tr>'});return h+'</tbody></table></div>'}
function bBlock(b){switch(b.t){case'h':return`<div class="heading">${b.text}</div>`;case'sh':return`<div class="subheading">${b.text}</div>`;case'p':return`<div class="para">${b.text}</div>`;case'li':return`<div class="bullet">‚Ä¢ ${b.text}</div>`;case'num':return`<div class="numbered">1. ${b.text}</div>`;case'num2':return`<div class="numbered">2. ${b.text}</div>`;case'card':return bCard(b);case'table':return bTable(b);default:return''}}
function bAll(bl){return bl.map(bBlock).join('')}

// ================================================================
// RENDER
// ================================================================
function rWelcome(){
  $('scrollArea').innerHTML=`<div class="welcome"><div class="welcome-spacer"></div>
    <h1>Hi Macie. What do you<br>have in mind?</h1>
    <div class="welcome-bottom"><div class="suggestions">
      <div class="suggestion-item"><span class="stxt">Tell me what types of plastics exist and if they can be recycled.</span>${svgSearch}</div>
      <div class="suggestion-item"><span class="stxt">Free local events this week</span>${svgSearch}</div>
      <div class="suggestion-item"><span class="stxt">Make a table comparing the different methods of making coffee</span>${svgSearch}</div>
    </div></div></div>`;
}
function rMsgs(){let h='<div class="messages">';hist.forEach(m=>h+=m.html);h+='</div>';$('scrollArea').innerHTML=h;sBot()}

// ================================================================
// TYPEWRITER FOR AI
// ================================================================
async function typeAI(blocks){
  busy=true;
  const idx=hist.length;
  hist.push({type:'ai',html:'<div class="ai-block" id="aiLive"></div>'});
  rMsgs();
  const c=document.getElementById('aiLive');if(!c){busy=false;return}
  for(let i=0;i<blocks.length;i++){
    const b=blocks[i];
    const isT=['h','sh','p','li','num','num2'].includes(b.t);
    if(!isT){c.insertAdjacentHTML('beforeend',bBlock(b));sBot();await sleep(250);continue}
    const el=document.createElement('div');
    el.className=b.t==='h'?'heading':b.t==='sh'?'subheading':b.t==='li'?'bullet':b.t==='num'||b.t==='num2'?'numbered':'para';
    c.appendChild(el);
    const pre=b.t==='li'?'‚Ä¢ ':b.t==='num'?'1. ':b.t==='num2'?'2. ':'';
    const plain=strip(b.text);let ci=0;
    await new Promise(res=>{
      timer=setInterval(()=>{
        ci=Math.min(ci+4,plain.length);
        el.innerHTML=pre+plain.slice(0,ci)+'<span class="cursor"></span>';
        sBot();
        if(ci>=plain.length){clearInterval(timer);timer=null;el.innerHTML=pre+b.text;res()}
      },8);
    });
    await sleep(30);
  }
  hist[idx].html=`<div class="ai-block">${bAll(blocks)}</div>`;
  busy=false;
  // Clear input ‚Äî user must click to start typing next prompt
  if(nextUserIdx<CONV.length) inputBlank();
  else inputDisabled();
}

// ================================================================
// MAIN FLOW
// ================================================================
async function sendMsg(){
  if(busy||inputState!=='ready') return;
  if(nextUserIdx>=CONV.length) return;
  const u=CONV[nextUserIdx];
  if(u.role!=='user') return;

  // Show conversation area
  rHeader(true);rTabs(false);

  // Add user message
  hist.push({type:'user',html:`<div class="user-row"><div class="user-msg">${u.msg}</div></div>`});
  inputDisabled();rMsgs();

  // Find AI response
  const aiIdx=nextUserIdx+1;
  if(aiIdx<CONV.length&&CONV[aiIdx].role==='ai'){
    nextUserIdx=aiIdx+1; // advance past both user + ai
    updC();
    await sleep(600);
    // THINKING phase
    hist.push({type:'thinking',html:'<div class="thinking-row"><div class="thinking-dot"></div><div class="thinking-dot"></div><div class="thinking-dot"></div><span class="thinking-label" id="thinkLbl">Thinking</span></div>'});
    rMsgs();
    let d=0;dotTimer=setInterval(()=>{d=(d+1)%4;const e=document.getElementById('thinkLbl');if(e)e.textContent='Thinking'+'.'.repeat(d)},400);
    await sleep(2500);
    clearInterval(dotTimer);hist.pop();rMsgs();
    // AI RESPONSE
    await typeAI(CONV[aiIdx].blocks);
  } else {
    nextUserIdx+=1;
    updC();
  }
}

function initWelcome(){
  nextUserIdx=0;rHeader(false);rTabs(true);rWelcome();inputBlank();updC();
}

function resetDemo(){
  clearInterval(timer);clearInterval(dotTimer);clearInterval(typingTimer);
  autoP=false;busy=false;hist.length=0;nextUserIdx=0;inputState='blank';
  $('autoBtn').textContent='‚ñ∂ Auto Play';$('autoBtn').classList.remove('primary');
  initWelcome();
}

function toggleAutoPlay(){
  autoP=!autoP;
  $('autoBtn').textContent=autoP?'‚è∏ Pause':'‚ñ∂ Auto Play';
  $('autoBtn').classList.toggle('primary',autoP);
  if(autoP&&!busy) runAutoPlay();
}

async function runAutoPlay(){
  if(!autoP||busy) return;
  if(nextUserIdx>=CONV.length){autoP=false;$('autoBtn').textContent='‚ñ∂ Auto Play';$('autoBtn').classList.remove('primary');return}
  // Simulate click on input area
  await sleep(800);
  if(!autoP) return;
  await startTyping();
  if(!autoP) return;
  await sleep(600);
  if(!autoP) return;
  await sendMsg();
  // Wait for completion
  const wait=()=>new Promise(r=>{const iv=setInterval(()=>{if(!busy){clearInterval(iv);r()}},200)});
  await wait();
  await sleep(1500);
  if(autoP) runAutoPlay();
}

// INIT
initWelcome();
</script>
</body>
</html>
